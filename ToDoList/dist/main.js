(()=>{"use strict";let e=[];function t(){e=JSON.parse(localStorage.getItem("Todos")),console.log(JSON.parse(localStorage.getItem("Todos")))}function o(o){t();for(let t=0;t<e.length;t++)if(e[t].id==o){let o=e[t];console.log(o)}}function n(n){let l=document.querySelector(".main");l.innerHTML="";let c=document.createElement("div"),d=document.createElement("div"),i=document.createElement("div"),r=document.createElement("div"),a=document.createElement("div");c.textContent=n.title,d.textContent=n.desc,i.textContent=n.due,r.textContent=n.prior,a.textContent=n.check,l.appendChild(c),l.appendChild(d),l.appendChild(i),l.appendChild(r),l.appendChild(a),function(n){let l=[];t();for(let t=0;t<e.length;t++)e[t].pid==n&&l.push(e[t]);console.log(l),function(e){let t=document.querySelector(".main");for(let n=0;n<e.length;n++){let l=document.createElement("div");l.textContent=e[n].title,l.value=e[n].id,l.onclick=function(){o(this.value)},console.log(l),t.appendChild(l)}}(l)}(n.id)}let l=[];function c(e,t,o,n){this.id=(d(),console.log(l.length),0==l.length?1:l[l.length-1].id+1),this.title=e,this.desc=t,this.due=o,this.prior=n,this.check=!1,this.print=function(){console.log(e)}}function d(){JSON.parse(null==localStorage.getItem("Projects"))?l=[]:(l=JSON.parse(localStorage.getItem("Projects")),console.log(JSON.parse(localStorage.getItem("Projects")))),function(e){let t=document.querySelector(".nav");t.innerHTML="";let o=document.createElement("h1");o.textContent="Projects",t.appendChild(o);for(let o=0;o<e.length;o++){let n=document.createElement("div");n.textContent=e[o].title,n.value=e[o].id,n.onclick=function(){i(this.value)},t.appendChild(n)}let n=document.createElement("div");n.classList.add("createProject"),n.onclick=function(){document.querySelector(".projectModal").style.display="block",document.querySelector("body").style.overflow="hidden",window.scrollTo(0,0)},n.textContent="New Project",t.appendChild(n)}(l)}function i(e){d();for(let t=0;t<l.length;t++)if(l[t].id==e){let e=l[t];console.log(e),n(e)}}window.onload=function(){!function(){let e=document.querySelector("#content");e.innerHTML="";let t=document.createElement("div"),o=document.createElement("div");t.classList.add("nav"),o.classList.add("main"),e.appendChild(t),e.appendChild(o)}(),null==localStorage.getItem("Projects")?console.log("Default Project"):(function(){let e=document.querySelector("#content"),t=document.createElement("div");t.classList.add("projectModal");let o=document.createElement("div");o.classList.add("modalBack");let n=document.createElement("div");n.classList.add("projMContent");let l=document.createElement("div");l.textContent="New Project",l.classList.add("fhead"),n.appendChild(l);let c=document.createElement("form");c.setAttribute("id","projectform");let d=["Title","Description","Due","Priority"];for(let e=0;e<d.length;e++){let t=document.createElement("input");t.placeholder=d[e],t.name=d[e],t.setAttribute("type","text"),c.appendChild(t)}let i=document.createElement("button");i.type="submit",i.textContent="Create Project",c.appendChild(i),n.appendChild(c),o.appendChild(n),t.appendChild(o),e.appendChild(t)}(),d());const e=document.querySelector("#projectform");e.addEventListener("submit",(t=>r(e)))},window.onclick=function(e){const t=document.querySelector(".modalBack"),o=document.querySelector(".projectModal");e.target==t&&(o.style.display="none",document.querySelector("body").style.overflow="auto")};const r=e=>{event.preventDefault(),document.querySelector(".projectModal").style.display="none",document.querySelector("body").style.overflow="auto",function(){const e=document.getElementById("projectform"),t=new FormData(e);console.log(Object.fromEntries(t));let o=Object.fromEntries(t);const n=new c;n.title=o.Title,n.desc=o.Description,n.due=o.Due,n.prior=o.Priority,function(e){d(),l.push(e),localStorage.setItem("Projects",JSON.stringify(l)),console.log(JSON.parse(localStorage.getItem("Projects"))),d()}(n)}(),e.reset()}})();